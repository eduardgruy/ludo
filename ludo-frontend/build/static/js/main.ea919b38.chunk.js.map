{"version":3,"sources":["services/auth.service.ts","context/socket.ts","components/Login.tsx","components/Register.tsx","components/Lobby.tsx","components/Profile.tsx","components/Chat.tsx","components/Board/Goti.tsx","components/Board/constants.tsx","components/Board/Board.tsx","components/Game.tsx","common/EventBus.ts","App.tsx","index.tsx"],"names":["API_URL","getCurrentUser","userStr","localStorage","getItem","JSON","parse","user","console","log","socket","io","transportOptions","polling","extraHeaders","Authorization","accessToken","SocketContext","createContext","Login","history","useState","loading","setLoading","message","setMessage","validationSchema","Yup","shape","username","required","password","className","src","alt","initialValues","onSubmit","formValue","axios","post","then","response","data","setItem","stringify","login","push","window","location","reload","error","resMessage","toString","htmlFor","name","type","component","disabled","role","Register","successful","setSuccessful","test","val","length","email","register","Lobby","undefined","rooms","setRooms","useContext","handlePopulateGames","useCallback","games","useEffect","emit","on","off","map","room","players","_id","Profile","currentUser","Chat","props","messages","Goti","movable","style","background","green","yellow","blue","red","colors","height","width","tiles","top","class","left","right","bottom","Board","activeGotis","setActiveGotis","Object","entries","positions","reduce","acc","color","newGotis","prev","goti","position","find","number","i","index","substring","String","tile","Game","status","owner","userId","winner","lastRoll","doubleRoll","turn","action","event","game","chat","setChat","eventBus","callback","document","addEventListener","e","dispatch","dispatchEvent","CustomEvent","detail","remove","removeEventListener","App","setCurrentUser","useLayoutEffect","AuthService","EventBus","logOut","removeItem","to","href","onClick","Provider","value","exact","path","ReactDOM","render","getElementById"],"mappings":"mUAEMA,EAAU,wBA6BHC,EAAiB,WAC5B,IAAMC,EAAUC,aAAaC,QAAQ,QACrC,OAAIF,EAAgBG,KAAKC,MAAMJ,GAExB,MC/BHK,EAAON,IACbO,QAAQC,IAAIF,GAEL,IAAMG,EAASC,YAAG,sBAAuB,CAC5CC,iBAAkB,CACdC,QAAS,CACLC,aAAc,CACVC,cAAc,UAAD,cAAYR,QAAZ,IAAYA,OAAZ,EAAYA,EAAMS,kBAKlCC,EAAgBC,wBAAcR,G,uBCgG5BS,EAnGgB,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAChC,EAA8BC,oBAAkB,GAAhD,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA8BF,mBAAiB,IAA/C,mBAAOG,EAAP,KAAgBC,EAAhB,KAUMC,EAAmBC,MAAaC,MAAM,CAC1CC,SAAUF,MAAaG,SAAS,2BAChCC,SAAUJ,MAAaG,SAAS,6BA4BlC,OACE,qBAAKE,UAAU,YAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,qBACEC,IAAI,8CACJC,IAAI,cACJF,UAAU,qBAEZ,cAAC,IAAD,CACEG,cA5CJ,CACFN,SAAU,GACVE,SAAU,IA2CJL,iBAAkBA,EAClBU,SApCY,SAACC,GACnB,IAAQR,EAAuBQ,EAAvBR,SAAUE,EAAaM,EAAbN,SAElBN,EAAW,IACXF,GAAW,GFvBM,SAACM,EAAkBE,GACtC,OAAOO,IACJC,KAAKvC,EAAU,cAAe,CAC7B6B,WACAE,aAEDS,MAAK,SAACC,GAML,OALIA,EAASC,KAAK1B,cAChBR,QAAQC,IAAIgC,EAASC,MACrBvC,aAAawC,QAAQ,OAAQtC,KAAKuC,UAAUH,EAASC,QAGhDD,EAASC,QEalBG,CAAMhB,EAAUE,GAAUS,MACxB,WACEpB,EAAQ0B,KAAK,YACbC,OAAOC,SAASC,YAElB,SAACC,GACC,IAAMC,EACHD,EAAMT,UACLS,EAAMT,SAASC,MACfQ,EAAMT,SAASC,KAAKlB,SACtB0B,EAAM1B,SACN0B,EAAME,WAER7B,GAAW,GACXE,EAAW0B,OAaX,SAKE,eAAC,IAAD,WACE,sBAAKnB,UAAU,aAAf,UACE,uBAAOqB,QAAQ,WAAf,sBACA,cAAC,IAAD,CAAOC,KAAK,WAAWC,KAAK,OAAOvB,UAAU,iBAC7C,cAAC,IAAD,CACEsB,KAAK,WACLE,UAAU,MACVxB,UAAU,0BAId,sBAAKA,UAAU,aAAf,UACE,uBAAOqB,QAAQ,WAAf,sBACA,cAAC,IAAD,CAAOC,KAAK,WAAWC,KAAK,WAAWvB,UAAU,iBACjD,cAAC,IAAD,CACEsB,KAAK,WACLE,UAAU,MACVxB,UAAU,0BAId,qBAAKA,UAAU,aAAf,SACE,yBAAQuB,KAAK,SAASvB,UAAU,4BAA4ByB,SAAUnC,EAAtE,UACGA,GACC,sBAAMU,UAAU,qCAElB,8CAIHR,GACC,qBAAKQ,UAAU,aAAf,SACE,qBAAKA,UAAU,qBAAqB0B,KAAK,QAAzC,SACGlC,iBCuCJmC,EArIY,WACzB,MAAoCtC,oBAAkB,GAAtD,mBAAOuC,EAAP,KAAmBC,EAAnB,KACA,EAA8BxC,mBAAiB,IAA/C,mBAAOG,EAAP,KAAgBC,EAAhB,KAQMC,EAAmBC,MAAaC,MAAM,CAC1CC,SAAUF,MACPmC,KACC,MACA,qDACA,SAACC,GAAD,OACEA,GACAA,EAAIX,WAAWY,QAAU,GACzBD,EAAIX,WAAWY,QAAU,MAE5BlC,SAAS,2BACZmC,MAAOtC,MACJsC,MAAM,8BACNnC,SAAS,2BACZC,SAAUJ,MACPmC,KACC,MACA,qDACA,SAACC,GAAD,OACEA,GACAA,EAAIX,WAAWY,QAAU,GACzBD,EAAIX,WAAWY,QAAU,MAE5BlC,SAAS,6BAyBd,OACE,qBAAKE,UAAU,YAAf,SACE,sBAAKA,UAAU,sBAAf,UACE,qBACEC,IAAI,8CACJC,IAAI,cACJF,UAAU,qBAEZ,cAAC,IAAD,CACEG,cA/DqB,CAC3BN,SAAU,GACVoC,MAAO,GACPlC,SAAU,IA6DJL,iBAAkBA,EAClBU,SAjCe,SAACC,GACtB,IAAQR,EAA8BQ,EAA9BR,SAA8BQ,EAApB4B,OHxCE,SAACpC,EAAkBE,GACzC,OAAOO,IAAMC,KAAKvC,EAAU,kBAAmB,CAC7C6B,WACAE,cGuCAmC,CAASrC,EAF6BQ,EAAbN,UAEIS,MAC3B,SAACC,GACChB,EAAWgB,EAASC,KAAKlB,SACzBqC,GAAc,MAEhB,SAACX,GACC,IAAMC,EACHD,EAAMT,UACLS,EAAMT,SAASC,MACfQ,EAAMT,SAASC,KAAKlB,SACtB0B,EAAM1B,SACN0B,EAAME,WAER3B,EAAW0B,GACXU,GAAc,OAad,SAKE,eAAC,IAAD,YACID,GACA,gCACE,sBAAK5B,UAAU,aAAf,UACE,uBAAOqB,QAAQ,WAAf,wBACA,cAAC,IAAD,CAAOC,KAAK,WAAWC,KAAK,OAAOvB,UAAU,iBAC7C,cAAC,IAAD,CACEsB,KAAK,WACLE,UAAU,MACVxB,UAAU,0BAId,sBAAKA,UAAU,aAAf,UACE,uBAAOqB,QAAQ,QAAf,qBACA,cAAC,IAAD,CAAOC,KAAK,QAAQC,KAAK,QAAQvB,UAAU,iBAC3C,cAAC,IAAD,CACEsB,KAAK,QACLE,UAAU,MACVxB,UAAU,0BAId,sBAAKA,UAAU,aAAf,UACE,uBAAOqB,QAAQ,WAAf,wBACA,cAAC,IAAD,CACEC,KAAK,WACLC,KAAK,WACLvB,UAAU,iBAEZ,cAAC,IAAD,CACEsB,KAAK,WACLE,UAAU,MACVxB,UAAU,0BAId,qBAAKA,UAAU,aAAf,SACE,wBAAQuB,KAAK,SAASvB,UAAU,4BAAhC,0BAKLR,GACC,qBAAKQ,UAAU,aAAf,SACE,qBACEA,UACE4B,EAAa,sBAAwB,qBAEvCF,KAAK,QAJP,SAMGlC,iB,QCzCJ2C,EAnFS,WACtB,MAA0B9C,wBAA8B+C,GAAxD,mBAAOC,EAAP,KAAcC,EAAd,KAIM5D,EAAS6D,qBAAWtD,GAEpBuD,EAAsBC,uBAAY,SAACC,GACvClE,QAAQC,IAAI,gBAAiBiE,GACzBA,GAAOJ,GAAS,SAAAD,GAAK,OAAIA,EAAK,sBAAOA,GAAP,YAAiBK,IAAjB,YAA8BA,QAC/D,IAoDH,OAlDAlE,QAAQC,IAAI,QAEZkE,qBAAU,WAiCR,OAhCAjE,EAAOkE,KAAK,aACZlE,EAAOmE,GAAG,SAAS,SAACH,GAAD,OAAWF,EAAoBE,MA+B3C,WAGLhE,EAAOoE,IAAI,SAAS,SAACJ,GAAD,OAAWF,EAAoBE,SAGpD,CAACF,EAAqB9D,IAUvB,qBAAKsB,UAAU,YAAf,SACIqC,EAAqCA,EAAMU,KAAI,SAAAC,GAC/C,OACE,qBAAIhD,UAAU,sBAAd,UACE,uCAAUgD,EAAK1B,QACf,0CAAa0B,EAAKC,QAAQjB,OAA1B,UAFuCgB,EAAKE,QAFxC,uDChDDC,EAlBW,WACxB,IAAMC,EAAcnF,IAEpB,OACE,sBAAK+B,UAAU,YAAf,UACE,wBAAQA,UAAU,YAAlB,SACE,+BACE,iCAASoD,EAAYvD,WADvB,gBAKF,8BACE,yCADF,IACwBuD,EAAYvD,gBCF3BwD,EATF,SAACC,GAEZ,OACE,qBAAKtD,UAAU,YAAf,SACIsD,EAAMC,SAASR,KAAK,SAAAvD,GAAa,OAAQ,4BAAIA,U,gBCFtC,SAASgE,EAAKF,GAQzB,OAAO,+BAAO,wBACVtD,UAAW,QAAUsD,EAAMG,QAAU,OAAS,IAC9CC,MAAO,CAAEC,WAAY,sCATc,CACnCC,MAAO,UACPC,OAAQ,UACRC,KAAM,UACNC,IAAK,WAK+DT,EAAMU,QAAU,UAAWC,OAAQ,MAAOC,MAAO,WChBtH,IAAMC,EAAQ,CACjB,CACI,KAAQ,KACRT,MAAO,CAAEU,IAAK,QAElB,CACI,KAAQ,KACRC,MAAO,UACPX,MAAO,CAAEU,IAAK,MAAOE,KAAM,UAE/B,CACI,KAAQ,KACRZ,MAAO,CAAEU,IAAK,MAAOE,KAAM,WAE/B,CACI,KAAQ,KACRZ,MAAO,CAAEU,IAAK,MAAOE,KAAM,WAE/B,CACI,KAAQ,KACRZ,MAAO,CAAEU,IAAK,MAAOE,KAAM,WAE/B,CACI,KAAQ,KACRZ,MAAO,CAAEU,IAAK,MAAOE,KAAM,UAE/B,CACI,KAAQ,KACRZ,MAAO,CAAEU,IAAK,QAASE,KAAM,QAEjC,CACI,KAAQ,KACRZ,MAAO,CAAEU,IAAK,SAAUE,KAAM,QAElC,CACI,KAAQ,KACRZ,MAAO,CAAEU,IAAK,SAAUE,KAAM,QAElC,CACI,KAAQ,MACRZ,MAAO,CAAEU,IAAK,SAAUE,KAAM,QAElC,CACI,KAAQ,MACRZ,MAAO,CAAEU,IAAK,QAASE,KAAM,QAEjC,CACI,KAAQ,MACRZ,MAAO,CAAEU,IAAK,EAAGE,KAAM,QAE3B,CACI,KAAQ,MACRZ,MAAO,CAAEU,IAAK,EAAGE,KAAM,WAE3B,CACI,KAAQ,MACRZ,MAAO,CAAEU,IAAK,EAAGE,KAAM,WAG3B,CACI,KAAQ,MACRD,MAAO,UAEPX,MAAO,CAAEU,IAAK,QAASG,MAAO,QAElC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,SAAUG,MAAO,QAEnC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,SAAUG,MAAO,QAEnC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,SAAUG,MAAO,QAEnC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,QAASG,MAAO,QAGlC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,MAAOG,MAAO,UAEhC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,MAAOG,MAAO,WAEhC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,MAAOG,MAAO,WAEhC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,MAAOG,MAAO,WAEhC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,MAAOG,MAAO,UAEhC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,MAAOG,MAAO,OAEhC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,SAAUG,MAAO,OAEnC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,SAAUG,MAAO,OAEnC,CACI,KAAQ,MACRF,MAAO,UAEPX,MAAO,CAAEU,IAAK,SAAUG,MAAO,UAEnC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,SAAUG,MAAO,WAEnC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,SAAUG,MAAO,WAEnC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,SAAUG,MAAO,WAEnC,CACI,KAAQ,MACRb,MAAO,CAAEU,IAAK,SAAUG,MAAO,UAEnC,CACI,KAAQ,MACRb,MAAO,CAAEc,OAAQ,QAASD,MAAO,QAErC,CACI,KAAQ,MACRb,MAAO,CAAEc,OAAQ,SAAUD,MAAO,QAEtC,CACI,KAAQ,MACRb,MAAO,CAAEc,OAAQ,SAAUD,MAAO,QAEtC,CACI,KAAQ,MACRb,MAAO,CAAEc,OAAQ,SAAUD,MAAO,QAEtC,CACI,KAAQ,MACRb,MAAO,CAAEc,OAAQ,QAASD,MAAO,QAErC,CACI,KAAQ,MACRb,MAAO,CAAEc,OAAQ,IAAKD,MAAO,QAEjC,CACI,KAAQ,MACRb,MAAO,CAAEc,OAAQ,IAAKF,KAAM,WAGhC,CACI,KAAQ,MACRZ,MAAO,CAAEc,OAAQ,IAAKF,KAAM,QAEhC,CACI,KAAQ,MACRD,MAAO,UAEPX,MAAO,CAAEc,OAAQ,QAASF,KAAM,QAEpC,CACI,KAAQ,MACRZ,MAAO,CAAEc,OAAQ,SAAUF,KAAM,QAErC,CACI,KAAQ,MACRZ,MAAO,CAAEc,OAAQ,SAAUF,KAAM,QAErC,CACI,KAAQ,MACRZ,MAAO,CAAEc,OAAQ,SAAUF,KAAM,QAErC,CACI,KAAQ,MACRZ,MAAO,CAAEc,OAAQ,QAASF,KAAM,QAEpC,CACI,KAAQ,MACRZ,MAAO,CAAEY,KAAM,EAAGF,IAAK,WAE3B,CACI,KAAQ,MACRV,MAAO,CAAEc,OAAQ,QAErB,CACI,KAAQ,MACRd,MAAO,CAAEc,OAAQ,MAAOF,KAAM,UAElC,CACI,KAAQ,MACRZ,MAAO,CAAEc,OAAQ,MAAOF,KAAM,WAElC,CACI,KAAQ,MACRZ,MAAO,CAAEc,OAAQ,MAAOF,KAAM,WAElC,CACI,KAAQ,MACRZ,MAAO,CAAEc,OAAQ,MAAOF,KAAM,WAElC,CACI,KAAQ,MACRZ,MAAO,CAAEc,OAAQ,MAAOF,KAAM,UAElC,CACI,KAAQ,MACRD,MAAO,MACPX,MAAO,CAAEc,OAAQ,QAASF,KAAM,WAEpC,CACI,KAAQ,MACRD,MAAO,MACPX,MAAO,CAAEc,OAAQ,SAAUF,KAAM,WAErC,CACI,KAAQ,MACRD,MAAO,MACPX,MAAO,CAAEc,OAAQ,SAAUF,KAAM,WAErC,CACI,KAAQ,MACRD,MAAO,MACPX,MAAO,CAAEc,OAAQ,SAAUF,KAAM,WAErC,CACI,KAAQ,MACRD,MAAO,MACPX,MAAO,CAAEc,OAAQ,QAASF,KAAM,WAEpC,CACI,KAAQ,MACRD,MAAO,SACPX,MAAO,CAAEU,IAAK,QAASE,KAAM,WAEjC,CACI,KAAQ,MACRD,MAAO,SACPX,MAAO,CAAEU,IAAK,SAAUE,KAAM,WAElC,CACI,KAAQ,MACRD,MAAO,SACPX,MAAO,CAAEU,IAAK,SAAUE,KAAM,WAElC,CACI,KAAQ,MACRD,MAAO,SACPX,MAAO,CAAEU,IAAK,SAAUE,KAAM,WAElC,CACI,KAAQ,MACRD,MAAO,SACPX,MAAO,CAAEU,IAAK,QAASE,KAAM,WAEjC,CACI,KAAQ,MACRD,MAAO,QACPX,MAAO,CAAEU,IAAK,SAAUE,KAAM,UAElC,CACI,KAAQ,MACRD,MAAO,QACPX,MAAO,CAAEU,IAAK,SAAUE,KAAM,WAElC,CACI,KAAQ,MACRD,MAAO,QACPX,MAAO,CAAEU,IAAK,SAAUE,KAAM,WAElC,CACI,KAAQ,MACRD,MAAO,QACPX,MAAO,CAAEU,IAAK,SAAUE,KAAM,WAElC,CACI,KAAQ,MACRD,MAAO,QACPX,MAAO,CAAEU,IAAK,SAAUE,KAAM,UAElC,CACI,KAAQ,MACRD,MAAO,OACPX,MAAO,CAAEU,IAAK,SAAUG,MAAO,UAEnC,CACI,KAAQ,MACRF,MAAO,OACPX,MAAO,CAAEU,IAAK,SAAUG,MAAO,WAEnC,CACI,KAAQ,MACRF,MAAO,OACPX,MAAO,CAAEU,IAAK,SAAUG,MAAO,WAEnC,CACI,KAAQ,MACRF,MAAO,OACPX,MAAO,CAAEU,IAAK,SAAUG,MAAO,WAEnC,CACI,KAAQ,MACRF,MAAO,OACPX,MAAO,CAAEU,IAAK,SAAUG,MAAO,WClTxB,SAASE,EAAMnB,GAE7B,MAAsCjE,mBAAc,CAAC,KAArD,mBAAOqF,EAAP,KAAoBC,EAApB,KAgBA,OAdAhC,qBAAU,WACTgC,EAAeC,OAAOC,QAAQvB,EAAMwB,WAAWC,QAAO,SAACC,EAAD,GAA0B,IAAD,mBAAlBC,EAAkB,KACxEC,EADwE,KACvDH,QAAO,SAACI,EAAWC,GAEzC,OAAO,2BAAKD,GAAZ,kBAAmBC,EAAKC,SAAW,CAAEJ,MAAOA,EAAOxB,UAASH,EAAMG,QAAQ6B,MAAK,SAAAhE,GAAI,OAAI8D,EAAK9D,MAAQA,UAElG,IACH,OAAO,2BAAK0D,GAAQE,KAClB,OAED,IAKF,sBAAKlF,UAAU,OAAf,UACE,CAAC,QAAS,SAAU,MAAO,QAAQ+C,KAAI,SAAAkC,GACvC,IAAMvB,EAAiB,SAATuB,EAAmB,GAAc,UAATA,EAAoB,CAAEV,MAAO,GAAe,OAATU,EAAiB,CAAET,OAAQ,GAAM,CAAEA,OAAQ,EAAGD,MAAO,GAC9H,OACC,qBAAKvE,UAAW,SAAWiF,EAAOvB,MAAOA,EAAzC,SACC,qBAAK1D,UAAU,MAAf,SACE,CAAC,MAAO,MAAO,QAAS,QAAQ+C,KAAI,SAACwC,EAAQC,GAC7C,IAAMC,EAAQR,EAAMS,UAAU,EAAG,GAAKC,OAAOH,EAAI,GACjD,OAEC,qBAAKxF,UAAW,iBAAmBuF,EAAS,IAAMN,EAAlD,SACEP,EAAYe,GAAS,cAACjC,EAAD,CAAMQ,OAAQiB,EAAOxB,QAASiB,EAAYe,GAAOhC,UAAe,iBAU5FU,EAAMpB,KAAI,SAAA6C,GACV,OACC,sBAAK5F,UAAW,SAAW4F,EAAKvB,MAAOX,MAAOkC,EAAKlC,MAAnD,UACC,4BAAIkC,EAAKtE,OACRoD,EAAYkB,EAAKtE,MAAQ,cAACkC,EAAD,CAAMQ,OAAQU,EAAYkB,EAAKtE,MAAM2D,MAAOxB,QAASiB,EAAYkB,EAAKtE,MAAMmC,UAAa,cCjDzH,IA0DeoC,EA1DQ,WACnB,MAAwBxG,mBAAgB,CACpC6D,IAAK,GACL4C,OAAQ,UACRxE,KAAM,SACNyE,MAAO,aACP9C,QAAS,CAAC,CACN+C,OAAQ,QACRf,MAAO,SACR,CACCe,OAAQ,MACRf,MAAO,UACR,CACCe,OAAQ,QACRf,MAAO,QACR,CACCe,OAAQ,QACRf,MAAO,QAGXgB,OAAQ,GACRnB,UAAW,CACPlB,MAAO,CAAC,CAAEtC,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,OAChIxB,OAAQ,CAAC,CAAEvC,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,OACjIvB,KAAM,CAAC,CAAExC,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,OAC/HtB,IAAK,CAAC,CAAEzC,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,MAAQ,CAAE/D,KAAM,KAAM+D,SAAU,QAGlIa,SAAU,EACVC,YAAY,EACZC,KAAM,QACNC,OAAQ,OACRC,MAAO,gBACP7C,QAAS,CAAC,QAhCd,mBAAO8C,EAAP,KAkCA,GAlCA,KAkCwBlH,mBAAwB,CAAC,MAAjD,mBAAOmH,EAAP,KAAaC,EAAb,KACA9D,qBAAU,WACN8D,GAAQ,SAAAD,GAAI,4BAAQA,GAAR,CAAcD,EAAKD,aAChC,CAACC,IAMJ,OACI,sBAAKvG,UAAU,iBAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,cAAC,EAAD,CAAMuD,SAAUiD,MAEpB,qBAAKxG,UAAU,kBAAf,SAEI,cAACyE,EAAD,CAAOK,UAAWyB,EAAKzB,UAAWrB,QAAS8C,EAAK9C,gBC7CjDiD,EAZE,CACf7D,GADe,SACZyD,EAAeK,GAChBC,SAASC,iBAAiBP,GAAO,SAACQ,GAAD,OAAOH,EAASG,OAEnDC,SAJe,SAINT,EAAe5F,GACtBkG,SAASI,cAAc,IAAIC,YAAYX,EAAO,CAAEY,OAAQxG,MAE1DyG,OAPe,SAORb,EAAeK,GACpBC,SAASQ,oBAAoBd,EAAOK,KC+FzBU,EAnFO,WACpB,MAAsChI,wBAA4B+C,GAAlE,mBAAOgB,EAAP,KAAoBkE,EAApB,KAEAC,2BAAgB,WACd,IAAMhJ,EAAOiJ,IAQb,OANIjJ,GACF+I,EAAe/I,GAGjBkJ,EAAS5E,GAAG,SAAU6E,GAEf,WACLD,EAASN,OAAO,SAAUO,MAE3B,IAEH,IAAMA,EAAS,WZTfvJ,aAAawJ,WAAW,QYWtBL,OAAelF,IAKjB,OACE,sBAAKpC,UAAU,SAAf,UACE,sBAAKA,UAAU,2CAAf,UACE,cAAC,IAAD,CAAM4H,GAAI,IAAK5H,UAAU,eAAzB,kBAGA,qBAAKA,UAAU,qBAAf,SACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAM4H,GAAI,SAAU5H,UAAU,WAA9B,uBAMHoD,EACC,sBAAKpD,UAAU,qBAAf,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAM4H,GAAI,WAAY5H,UAAU,WAAhC,SACGoD,EAAYvD,aAGjB,oBAAIG,UAAU,WAAd,SACE,mBAAG6H,KAAK,SAAS7H,UAAU,WAAW8H,QAASJ,EAA/C,yBAMJ,sBAAK1H,UAAU,qBAAf,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAM4H,GAAI,SAAU5H,UAAU,WAA9B,qBAKF,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAAM4H,GAAI,YAAa5H,UAAU,WAAjC,6BAQR,qBAAKA,UAAU,iBAAf,SACE,cAACf,EAAc8I,SAAf,CAAwBC,MAAOtJ,EAA/B,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOuJ,OAAK,EAACC,KAAK,SAAS1G,UAAWW,IACtC,cAAC,IAAD,CAAO8F,OAAK,EAACC,KAAK,SAAS1G,UAAWrC,IACtC,cAAC,IAAD,CAAO8I,OAAK,EAACC,KAAK,YAAY1G,UAAWG,IACzC,cAAC,IAAD,CAAOsG,OAAK,EAACC,KAAK,WAAW1G,UAAW2B,IACxC,cAAC,IAAD,CAAO8E,OAAK,EAACC,KAAK,QAAQ1G,UAAWqE,eCzFjDsC,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFxB,SAASyB,eAAe,W","file":"static/js/main.ea919b38.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:3000\";\n\nexport const register = (username: string, password: string) => {\n  return axios.post(API_URL + \"/users/register\", {\n    username,\n    password,\n  });\n};\n\nexport const login = (username: string, password: string) => {\n  return axios\n    .post(API_URL + \"/auth/login\", {\n      username,\n      password,\n    })\n    .then((response) => {\n      if (response.data.accessToken) {\n        console.log(response.data)\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n};\n\nexport const logout = () => {\n  localStorage.removeItem(\"user\");\n};\n\nexport const getCurrentUser = () => {\n  const userStr = localStorage.getItem(\"user\");\n  if (userStr) return JSON.parse(userStr);\n\n  return null;\n};\n","import { io } from \"socket.io-client\";\nimport { createContext } from \"react\";\nimport { getCurrentUser } from \"../services/auth.service\"\n\nconst user = getCurrentUser();\nconsole.log(user)\n\nexport const socket = io('ws://127.0.0.1:3001', {\n    transportOptions: {\n        polling: {\n            extraHeaders: {\n                Authorization: `Bearer ${user?.accessToken}`\n            }\n        }\n    }\n});\nexport const SocketContext = createContext(socket);","import React, { useState } from \"react\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport { login } from \"../services/auth.service\";\nimport { RouteComponentProps } from \"react-router-dom\";\n\ninterface RouterProps {\n  history: string;\n}\n\ntype Props = RouteComponentProps<RouterProps>;\n\nconst Login: React.FC<Props> = ({ history }) => {\n  const [loading, setLoading] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n\n  const initialValues: {\n    username: string;\n    password: string;\n  } = {\n    username: \"\",\n    password: \"\",\n  };\n\n  const validationSchema = Yup.object().shape({\n    username: Yup.string().required(\"This field is required!\"),\n    password: Yup.string().required(\"This field is required!\"),\n  });\n\n  const handleLogin = (formValue: { username: string; password: string }) => {\n    const { username, password } = formValue;\n\n    setMessage(\"\");\n    setLoading(true);\n\n    login(username, password).then(\n      () => {\n        history.push(\"/profile\");\n        window.location.reload();\n      },\n      (error) => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setLoading(false);\n        setMessage(resMessage);\n      }\n    );\n  };\n\n  return (\n    <div className=\"col-md-12\">\n      <div className=\"card card-container\">\n        <img\n          src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n          alt=\"profile-img\"\n          className=\"profile-img-card\"\n        />\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={handleLogin}\n        >\n          <Form>\n            <div className=\"form-group\">\n              <label htmlFor=\"username\">Username</label>\n              <Field name=\"username\" type=\"text\" className=\"form-control\" />\n              <ErrorMessage\n                name=\"username\"\n                component=\"div\"\n                className=\"alert alert-danger\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"password\">Password</label>\n              <Field name=\"password\" type=\"password\" className=\"form-control\" />\n              <ErrorMessage\n                name=\"password\"\n                component=\"div\"\n                className=\"alert alert-danger\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={loading}>\n                {loading && (\n                  <span className=\"spinner-border spinner-border-sm\"></span>\n                )}\n                <span>Login</span>\n              </button>\n            </div>\n\n            {message && (\n              <div className=\"form-group\">\n                <div className=\"alert alert-danger\" role=\"alert\">\n                  {message}\n                </div>\n              </div>\n            )}\n          </Form>\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport IUser from \"../types/user.type\";\nimport { register } from \"../services/auth.service\";\n\nconst Register: React.FC = () => {\n  const [successful, setSuccessful] = useState<boolean>(false);\n  const [message, setMessage] = useState<string>(\"\");\n\n  const initialValues: IUser = {\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  };\n\n  const validationSchema = Yup.object().shape({\n    username: Yup.string()\n      .test(\n        \"len\",\n        \"The username must be between 3 and 20 characters.\",\n        (val: any) =>\n          val &&\n          val.toString().length >= 3 &&\n          val.toString().length <= 20\n      )\n      .required(\"This field is required!\"),\n    email: Yup.string()\n      .email(\"This is not a valid email.\")\n      .required(\"This field is required!\"),\n    password: Yup.string()\n      .test(\n        \"len\",\n        \"The password must be between 6 and 40 characters.\",\n        (val: any) =>\n          val &&\n          val.toString().length >= 6 &&\n          val.toString().length <= 40\n      )\n      .required(\"This field is required!\"),\n  });\n\n  const handleRegister = (formValue: IUser) => {\n    const { username, email, password } = formValue;\n\n    register(username, password).then(\n      (response) => {\n        setMessage(response.data.message);\n        setSuccessful(true);\n      },\n      (error) => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        setMessage(resMessage);\n        setSuccessful(false);\n      }\n    );\n  };\n\n  return (\n    <div className=\"col-md-12\">\n      <div className=\"card card-container\">\n        <img\n          src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n          alt=\"profile-img\"\n          className=\"profile-img-card\"\n        />\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={handleRegister}\n        >\n          <Form>\n            {!successful && (\n              <div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"username\"> Username </label>\n                  <Field name=\"username\" type=\"text\" className=\"form-control\" />\n                  <ErrorMessage\n                    name=\"username\"\n                    component=\"div\"\n                    className=\"alert alert-danger\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"email\"> Email </label>\n                  <Field name=\"email\" type=\"email\" className=\"form-control\" />\n                  <ErrorMessage\n                    name=\"email\"\n                    component=\"div\"\n                    className=\"alert alert-danger\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"password\"> Password </label>\n                  <Field\n                    name=\"password\"\n                    type=\"password\"\n                    className=\"form-control\"\n                  />\n                  <ErrorMessage\n                    name=\"password\"\n                    component=\"div\"\n                    className=\"alert alert-danger\"\n                  />\n                </div>\n\n                <div className=\"form-group\">\n                  <button type=\"submit\" className=\"btn btn-primary btn-block\">Sign Up</button>\n                </div>\n              </div>\n            )}\n\n            {message && (\n              <div className=\"form-group\">\n                <div\n                  className={\n                    successful ? \"alert alert-success\" : \"alert alert-danger\"\n                  }\n                  role=\"alert\"\n                >\n                  {message}\n                </div>\n              </div>\n            )}\n          </Form>\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import React, { useState, useEffect, useContext, useCallback } from \"react\";\nimport { SocketContext } from \"../context/socket\";\nimport { GameI } from \"../types/game.type\"\n\n\nconst Lobby: React.FC = () => {\n  const [rooms, setRooms] = useState<GameI[] | undefined>(undefined);\n  // const [joining, setJoining] = useState<boolean>(false);\n  // const [joinedGame, setJoinedGame] = useState<string>(\"\");\n\n  const socket = useContext(SocketContext)\n\n  const handlePopulateGames = useCallback((games: Array<GameI>) => {\n    console.log(\"got new games\", games)\n    if (games) setRooms(rooms => rooms ? [...rooms, ...games] : [...games])\n  }, []);\n\n  console.log(\"test\")\n\n  useEffect(() => {\n    socket.emit(\"get-games\")\n    socket.on('games', (games) => handlePopulateGames(games))\n\n    // socket.on('new-game', (game: GameI) => {\n    //   console.log(\"new game!\", game)\n    //   setRooms(rooms => [...rooms, game])\n    //   console.log(rooms)\n    // })\n\n    // socket.on('updated-game', (game: GameI) => {\n    //   console.log(\"updating Game\", game)\n\n    //   setRooms(oldRooms => {\n    //     const newRooms = [...oldRooms];\n    //     console.log(oldRooms)\n    //     console.log(newRooms)\n    //     const index = newRooms.findIndex(room => room._id == game._id)\n    //     console.log(index)\n    //     newRooms[index] = {\n    //       ...newRooms[index],\n    //       players: game.players\n    //     };\n    //     return newRooms\n    //   })\n    // })\n\n    // socket.on('joined-game', (gameId: string) => {\n    //   setJoinedGame(gameId)\n    //   console.log(\"joined game!\" + gameId)\n    //   setJoining(false)\n    // })\n\n    return () => {\n      // before the component is destroyed\n      // unbind all event handlers used in this component\n      socket.off(\"games\", (games) => handlePopulateGames(games));\n    };\n\n  }, [handlePopulateGames, socket]);\n\n  // const handleJoin = (gameId: string) => {\n  //   setJoining(true)\n  //   socket.emit(\"join-game\", { gameId: gameId })\n\n\n  // }\n\n  return (\n    <div className=\"container\">\n      {!rooms ? <p>no active rooms atm</p> : rooms.map(room => {\n        return (\n          <li className=\"card card-container\" key={room._id}>\n            <p>Name: {room.name}</p>\n            <p>Players: {room.players.length}/4</p>\n            {/* <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={joining} onClick={() => handleJoin(room._id)} >\n              {joining && (\n                <span className=\"spinner-border spinner-border-sm\"></span>\n              )}\n              <span>Join</span>\n            </button> */}\n          </li>\n        )\n      })\n      }\n    </div>\n  );\n};\n\nexport default Lobby;\n","import React from \"react\";\nimport { getCurrentUser } from \"../services/auth.service\";\n\nconst Profile: React.FC = () => {\n  const currentUser = getCurrentUser();\n\n  return (\n    <div className=\"container\">\n      <header className=\"jumbotron\">\n        <h3>\n          <strong>{currentUser.username}</strong> Profile\n        </h3>\n      </header>\n\n      <p>\n        <strong>Id:</strong> {currentUser.username}\n      </p>\n    </div>\n  );\n};\n\nexport default Profile;\n","interface Props {\n  messages: Array<string>\n} \n\nconst Chat = (props: Props) => {\n\n  return (\n    <div className=\"container\">\n       {props.messages.map((message => { return (<p>{message}</p>) }))}\n    </div>\n  );\n};\n\nexport default Chat;\n","\ninterface Props {\n    colors: string,\n    movable: boolean\n}\n\nexport default function Goti(props: Props) {\n    const colors: Record<string, string> = {\n        green: '#66bb6a',\n        yellow: '#fff176',\n        blue: '#29b6f6',\n        red: '#e53935'\n    };\n\n    return <span>{<figure\n        className={'egg ' + (props.movable ? 'glow' : '')}\n        style={{ background: 'radial-gradient(circle at 33% 33%, ' + colors[props.colors] + ', #000)', height: \"60%\", width: \"70%\" }}\n    />}</span>;\n}","export const tiles = [\n    {\n        \"name\": \"n1\",\n        style: { top: '40%' }\n    },\n    {\n        \"name\": \"n2\",\n        class: \"g-start\", \n        style: { top: '40%', left: '6.66%' }\n    },\n    {\n        \"name\": \"n3\",\n        style: { top: '40%', left: '13.32%' }\n    },\n    {\n        \"name\": \"n4\",\n        style: { top: '40%', left: '19.98%' }\n    },\n    {\n        \"name\": \"n5\",\n        style: { top: '40%', left: '26.64%' }\n    },\n    {\n        \"name\": \"n6\",\n        style: { top: '40%', left: '33.3%' }\n    },\n    {\n        \"name\": \"n7\",\n        style: { top: '33.3%', left: '40%' }\n    },\n    {\n        \"name\": \"n8\",\n        style: { top: '26.64%', left: '40%' }\n    },\n    {\n        \"name\": \"n9\",\n        style: { top: '19.98%', left: '40%' }\n    },\n    {\n        \"name\": \"n10\",\n        style: { top: '13.32%', left: '40%' }\n    },\n    {\n        \"name\": \"n11\",\n        style: { top: '6.66%', left: '40%' }\n    },\n    {\n        \"name\": \"n12\",\n        style: { top: 0, left: '40%' }\n    },\n    {\n        \"name\": \"n13\",\n        style: { top: 0, left: '46.66%' }\n    },\n    {\n        \"name\": \"n14\",\n        style: { top: 0, left: '53.32%' }\n    },\n\n    {\n        \"name\": \"n15\",\n        class: \"y-start\", \n\n        style: { top: '6.66%', right: '40%' }\n    },\n    {\n        \"name\": \"n16\",\n        style: { top: '13.32%', right: '40%' }\n    },\n    {\n        \"name\": \"n17\",\n        style: { top: '19.98%', right: '40%' }\n    },\n    {\n        \"name\": \"n18\",\n        style: { top: '26.64%', right: '40%' }\n    },\n    {\n        \"name\": \"n19\",\n        style: { top: '33.3%', right: '40%' }\n\n    },\n    {\n        \"name\": \"n20\",\n        style: { top: '40%', right: '33.3%' }\n    },\n    {\n        \"name\": \"n21\",\n        style: { top: '40%', right: '26.64%' }\n    },\n    {\n        \"name\": \"n22\",\n        style: { top: '40%', right: '19.98%' }\n    },\n    {\n        \"name\": \"n23\",\n        style: { top: '40%', right: '13.32%' }\n    },\n    {\n        \"name\": \"n24\",\n        style: { top: '40%', right: '6.66%' }\n    },\n    {\n        \"name\": \"n25\",\n        style: { top: '40%', right: '0%' }\n    },\n    {\n        \"name\": \"n26\",\n        style: { top: '46.66%', right: '0%' }\n    },\n    {\n        \"name\": \"n27\",\n        style: { top: '53.32%', right: '0%' }\n    },\n    {\n        \"name\": \"n28\",\n        class: \"b-start\", \n\n        style: { top: '53.32%', right: '6.66%' }\n    },\n    {\n        \"name\": \"n29\",\n        style: { top: '53.32%', right: '13.32%' }\n    },\n    {\n        \"name\": \"n30\",\n        style: { top: '53.32%', right: '19.98%' }\n    },\n    {\n        \"name\": \"n31\",\n        style: { top: '53.32%', right: '26.64%' }\n    },\n    {\n        \"name\": \"n32\",\n        style: { top: '53.32%', right: '33.3%' }\n    },\n    {\n        \"name\": \"n33\",\n        style: { bottom: '33.3%', right: '40%' }\n    },\n    {\n        \"name\": \"n34\",\n        style: { bottom: '26.64%', right: '40%' }\n    },\n    {\n        \"name\": \"n35\",\n        style: { bottom: '19.98%', right: '40%' }\n    },\n    {\n        \"name\": \"n36\",\n        style: { bottom: '13.32%', right: '40%' }\n    },\n    {\n        \"name\": \"n37\",\n        style: { bottom: '6.66%', right: '40%' }\n    },\n    {\n        \"name\": \"n38\",\n        style: { bottom: '0', right: '40%' }\n    },\n    {\n        \"name\": \"n39\",\n        style: { bottom: '0', left: '46.66%' }\n    },\n   \n    {\n        \"name\": \"n40\",\n        style: { bottom: '0', left: '40%' }\n    },\n    {\n        \"name\": \"n41\",\n        class: \"r-start\", \n\n        style: { bottom: '6.66%', left: '40%' }\n    },\n    {\n        \"name\": \"n42\",\n        style: { bottom: '13.32%', left: '40%' }\n    },\n    {\n        \"name\": \"n43\",\n        style: { bottom: '19.98%', left: '40%' }\n    },\n    {\n        \"name\": \"n44\",\n        style: { bottom: '26.64%', left: '40%' }\n    },\n    {\n        \"name\": \"n45\",\n        style: { bottom: '33.3%', left: '40%' }\n    },\n    {\n        \"name\": \"n52\",\n        style: { left: 0, top: '46.66%' }\n    },\n    {\n        \"name\": \"n51\",\n        style: { bottom: '40%' }\n    },\n    {\n        \"name\": \"n50\",\n        style: { bottom: '40%', left: '6.66%' }\n    },\n    {\n        \"name\": \"n49\",\n        style: { bottom: '40%', left: '13.32%' }\n    },\n    {\n        \"name\": \"n48\",\n        style: { bottom: '40%', left: '19.98%' }\n    },\n    {\n        \"name\": \"n47\",\n        style: { bottom: '40%', left: '26.64%' }\n    },\n    {\n        \"name\": \"n46\",\n        style: { bottom: '40%', left: '33.3%' }\n    },\n    {\n        \"name\": \"hr1\",\n        class: \"red\",\n        style: { bottom: '6.66%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hr2\",\n        class: \"red\",\n        style: { bottom: '13.32%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hr3\",\n        class: \"red\",\n        style: { bottom: '19.98%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hr4\",\n        class: \"red\",\n        style: { bottom: '26.64%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hr5\",\n        class: \"red\",\n        style: { bottom: '33.3%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hy1\",\n        class: \"yellow\",\n        style: { top: '6.66%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hy2\",\n        class: \"yellow\",\n        style: { top: '13.32%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hy3\",\n        class: \"yellow\",\n        style: { top: '19.98%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hy4\",\n        class: \"yellow\",\n        style: { top: '26.64%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hy5\",\n        class: \"yellow\",\n        style: { top: '33.3%', left: '46.66%' }\n    },\n    {\n        \"name\": \"hg1\",\n        class: \"green\",\n        style: { top: '46.66%', left: '6.66%' }\n    },\n    {\n        \"name\": \"hg2\",\n        class: \"green\",\n        style: { top: '46.66%', left: '13.32%' }\n    },\n    {\n        \"name\": \"hg3\",\n        class: \"green\",\n        style: { top: '46.66%', left: '19.98%' }\n    },\n    {\n        \"name\": \"hg4\",\n        class: \"green\",\n        style: { top: '46.66%', left: '26.64%' }\n    },\n    {\n        \"name\": \"hg5\",\n        class: \"green\",\n        style: { top: '46.66%', left: '33.3%' }\n    },\n    {\n        \"name\": \"hb1\",\n        class: \"blue\",\n        style: { top: '46.66%', right: '6.66%' }\n    },\n    {\n        \"name\": \"hb2\",\n        class: \"blue\",\n        style: { top: '46.66%', right: '13.32%' }\n    },\n    {\n        \"name\": \"hb3\",\n        class: \"blue\",\n        style: { top: '46.66%', right: '19.98%' }\n    },\n    {\n        \"name\": \"hb4\",\n        class: \"blue\",\n        style: { top: '46.66%', right: '26.64%' }\n    },\n    {\n        \"name\": \"hb5\",\n        class: \"blue\",\n        style: { top: '46.66%', right: '33.3%' }\n    },\n]","import React, { useEffect, useState } from 'react';\nimport Goti from './Goti';\nimport { Positions } from '../../types/game.type'\nimport { tiles } from './constants'\n\ninterface Props {\n\tpositions: Positions\n\tmovable: Array<string>\n}\n\n\nexport default function Board(props: Props) {\n\n\tconst [activeGotis, setActiveGotis] = useState<any>([\"\"])\n\n\tuseEffect(() => {\n\t\tsetActiveGotis(Object.entries(props.positions).reduce((acc, [color, gotis]) => {\n\t\t\tconst newGotis = gotis.reduce((prev: any, goti: any) => {\n\t\t\t\t\n\t\t\t\treturn { ...prev, [goti.position]: { color: color, movable: props.movable.find(name => goti.name == name) ? true : false} }\n\n\t\t\t}, {})\n\t\t\treturn { ...acc, ...newGotis }\n\t\t}, {}))\n\n\t}, [])\n\n\n\n\treturn (\n\t\t<div className=\"game\">\n\t\t\t{[\"green\", \"yellow\", \"red\", \"blue\"].map(color => {\n\t\t\t\tconst style = color == \"green\" ? {} : color == \"yellow\" ? { right: 0 } : color == \"red\" ? { bottom: 0 } : { bottom: 0, right: 0 }\n\t\t\t\treturn (\n\t\t\t\t\t<div className={\"house \" + color} style={style}>\n\t\t\t\t\t\t<div className=\"box\">\n\t\t\t\t\t\t\t{[\"one\", \"two\", \"three\", \"four\"].map((number, i) => {\n\t\t\t\t\t\t\t\tconst index = color.substring(0, 1) + String(i + 1)\n\t\t\t\t\t\t\t\treturn (\n\n\t\t\t\t\t\t\t\t\t<div className={\"square square-\" + number + \" \" + color}>\n\t\t\t\t\t\t\t\t\t\t{activeGotis[index] ? <Goti colors={color} movable={activeGotis[index].movable}  /> : null}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\n\t\t\t})}\n\n\t\t\t{tiles.map(tile => {\n\t\t\t\treturn (\n\t\t\t\t\t<div className={\"cells \" + tile.class} style={tile.style}>\n\t\t\t\t\t\t<b>{tile.name}</b>\n\t\t\t\t\t\t{activeGotis[tile.name] ? <Goti colors={activeGotis[tile.name].color} movable={activeGotis[tile.name].movable}/> : null}\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t);\n}","import React, { useState, useEffect } from \"react\";\nimport { GameI } from \"../types/game.type\"\n\nimport Chat from \"./Chat\"\nimport Board from \"./Board/Board\";\n\nconst Game: React.FC = () => {\n    const [game, setGame] = useState<GameI>({\n        _id: \"\",\n        status: \"running\",\n        name: \"myGame\",\n        owner: \"randomUser\",\n        players: [{\n            userId: \"Alice\",\n            color: \"green\"\n        }, {\n            userId: \"Bob\",\n            color: \"yellow\"\n        }, {\n            userId: \"Alice\",\n            color: \"blue\"\n        }, {\n            userId: \"Alice\",\n            color: \"red\"\n        }\n        ],\n        winner: \"\",\n        positions: {\n            green: [{ name: \"g1\", position: \"n1\" }, { name: \"g2\", position: \"g2\" }, { name: \"g3\", position: \"g3\" }, { name: \"g4\", position: \"g4\" }],\n            yellow: [{ name: \"y1\", position: \"y1\" }, { name: \"y2\", position: \"y2\" }, { name: \"y3\", position: \"y3\" }, { name: \"y4\", position: \"y4\" }],\n            blue: [{ name: \"b1\", position: \"b1\" }, { name: \"b2\", position: \"b2\" }, { name: \"b3\", position: \"b3\" }, { name: \"b4\", position: \"b4\" }],\n            red: [{ name: \"r1\", position: \"r1\" }, { name: \"r2\", position: \"r2\" }, { name: \"r3\", position: \"r3\" }, { name: \"r4\", position: \"r4\" }],\n        },\n\n        lastRoll: 0,\n        doubleRoll: false,\n        turn: \"green\",\n        action: \"roll\",\n        event: \"Game started!\",\n        movable: [\"g1\"]\n    });\n    const [chat, setChat] = useState<Array<string>>([\"\"])\n    useEffect(() => {\n        setChat(chat => [...chat, game.event])\n    }, [game])\n    const test = {\n        \"n1\": \"red\"\n    }\n\n\n    return (\n        <div className=\"game-container\">\n            <div className=\"chat-container\">\n                <Chat messages={chat} />\n            </div>\n            <div className=\"board-container\">\n\n                <Board positions={game.positions} movable={game.movable} />\n\n            </div>\n        </div>\n    );\n};\n\nexport default Game;\n","const eventBus = {\n  on(event: string, callback: EventListener) {\n    document.addEventListener(event, (e) => callback(e));\n  },\n  dispatch(event: string, data?: any) {\n    document.dispatchEvent(new CustomEvent(event, { detail: data }));\n  },\n  remove(event: string, callback: EventListener) {\n    document.removeEventListener(event, callback);\n  },\n};\n\nexport default eventBus;\n","import React from \"react\";\nimport { useState, useLayoutEffect } from \"react\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport { SocketContext, socket } from './context/socket';\n\nimport * as AuthService from \"./services/auth.service\";\nimport IUser from './types/user.type';\n\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Lobby from \"./components/Lobby\";\nimport Profile from \"./components/Profile\";\nimport Game from \"./components/Game\"\n\nimport EventBus from \"./common/EventBus\";\n\n\nconst App: React.FC = () => {\n  const [currentUser, setCurrentUser] = useState<IUser | undefined>(undefined);\n\n  useLayoutEffect(() => {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      setCurrentUser(user);\n    }\n\n    EventBus.on(\"logout\", logOut);\n\n    return () => {\n      EventBus.remove(\"logout\", logOut);\n    };\n  }, []);\n\n  const logOut = () => {\n    AuthService.logout();\n    setCurrentUser(undefined);\n  };\n\n\n\n  return (\n    <div className=\"screen\">\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n        <Link to={\"/\"} className=\"navbar-brand\">\n          Ludo\n        </Link>\n        <div className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item\">\n            <Link to={\"/lobby\"} className=\"nav-link\">\n              Lobby\n            </Link>\n          </li>\n        </div>\n\n        {currentUser ? (\n          <div className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/profile\"} className=\"nav-link\">\n                {currentUser.username}\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <a href=\"/login\" className=\"nav-link\" onClick={logOut}>\n                LogOut\n              </a>\n            </li>\n          </div>\n        ) : (\n          <div className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/login\"} className=\"nav-link\">\n                Login\n              </Link>\n            </li>\n\n            <li className=\"nav-item\">\n              <Link to={\"/register\"} className=\"nav-link\">\n                Sign Up\n              </Link>\n            </li>\n          </div>\n        )}\n      </nav>\n\n      <div className=\"container mt-3\">\n        <SocketContext.Provider value={socket} >\n          <Switch>\n            <Route exact path=\"/lobby\" component={Lobby} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/register\" component={Register} />\n            <Route exact path=\"/profile\" component={Profile} />\n            <Route exact path=\"/game\" component={Game} />\n          </Switch>\n        </SocketContext.Provider>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}